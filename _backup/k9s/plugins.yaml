plugins:
  evict-pods:
    shortCut: Shift-V
    confirm: true
    description: "Evict pod"
    scopes:
      - pods
    command: bash
    dangerous: true
    background: true
    args:
      - -c
      - |
        echo "kubectl evict-pod --context $CONTEXT $NAME -n $NAMESPACE" >> ~/.k9s/debug.log
        kubectl evict-pod --context $CONTEXT $NAME -n $NAMESPACE
  # Manage cert-manager Certificate resouces via cmctl.
  # See: https://github.com/cert-manager/cmctl
  cert-status:
    shortCut: Shift-S
    confirm: false
    description: Certificate status
    scopes:
      - certificates
    command: bash
    background: false
    args:
      - -c
      - "cmctl status certificate --context $CONTEXT -n $NAMESPACE $NAME |& less"
  cert-renew:
    shortCut: Shift-R
    confirm: false
    description: Certificate renew
    scopes:
      - certificates
    command: bash
    background: false
    args:
      - -c
      - "cmctl renew --context $CONTEXT -n $NAMESPACE $NAME |& less"
  secret-inspect:
    shortCut: Shift-I
    confirm: false
    description: Inspect secret
    scopes:
      - secrets
    command: bash
    background: false
    args:
      - -c
      - "cmctl inspect secret --context $CONTEXT -n $NAMESPACE $NAME |& less"
  sync-app:
    shortCut: Shift-S
    confirm: false
    scopes:
      - apps
    description: Sync a argocd app
    command: bash
    background: false
    args:
      - -c
      - "argocd app sync $NAME"
